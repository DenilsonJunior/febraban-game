{"version":3,"sources":["script.js"],"names":["$","document","ready","game","localStorage","getItem","on","val","empresa","email","css","length","informativo","code","formRandom","data","name","trigger","is","bridge","handlerFormDB","setTimeout","regex","navigate","goto","Math","floor","random","handlerSnapshotFormDB","change","console","log","doc","inserirNome","text","index","blink","intervaloRef","current","$spanText","textAnima","let","updateTextWithCursor","displayedText","setInterval","blinkIntervalRef","clearInterval","slice"],"mappings":"AAAAA,EAAEC,QAAQ,EAAEC,MAAM,WAChB,IAAIC,EAAOC,aAAaC,QAAQ,MAAM,EAMtCL,EAEE,WAAS,EAAIM,GAAC,QAAUC,WACxB,IAAIC,EAAOR,EAAA,OAAK,EAAAO,IAAU,EAExBE,EAAAT,EAAY,QAAM,EAAAO,IAAA,EAClBC,EAAYR,EAAEU,UAAI,EAAAH,IAAW,GAAM,aAMrC,OAPAP,EAIEA,YAAE,EAAYU,IAAEA,UAAa,MAAE,EAHjCV,EAIE,YAAY,EAAAU,IAAA,UAAA,MAAA,EAEE,GAAZD,EAAKE,QACPX,EAAE,YAAA,EAAcU,IAAI,UAAU,OAAE,EACzB,CAAA,GAGW,GAAhBE,EAAAA,QAgCQ,mDAEDC,KAlC4BJ,CAkCpBK,GA1BlBC,EAAA,CALCC,KAAMA,EAORP,MAAAA,EACED,QAAQS,EACVL,YANeA,EAAAA,cAAW,EAAAM,GAAA,UAAA,EAO1BC,IAAOC,KAAAA,IAAAA,CAEPC,EAGArB,EAAA,MAAA,EAAAiB,QAAA,oBAAA,CAAA,OAAAF,EAAA,EAGAI,OAAAC,cAAAL,CAAA,EAHAf,KAKAqB,WAAOC,KACTC,SAAAC,eAAArB,SAAA,CAEA,EAAIW,GAAU,IAxBZd,EAAIe,aAAO,EAAAL,IAAA,UAAA,OAAA,EACHM,CAAAA,EAwBVhB,CAAC,EADD,IAAIc,EA7CJW,KAAAC,MAAA,GAAAD,KAAAE,OAAA,CAAA,EAAA,GA8CA3B,EAAE,WAWMuB,EAAAA,KAASC,CAAM,EATvBH,WAWI,KACFF,OAAES,sBAAAC,IACDC,QAASC,IAAAF,EAAAG,IAAAjB,KAAA,CAAA,EAEHkB,EAAAA,EAAcD,IAAAjB,KAAA,EAEfmB,EAAIrB,MAAKC,IAGXqB,EAAAA,MAAQ,EAAClB,QAAA,oBAAA,CAAA,OAAAF,EAAA,EACTqB,WAAQ,KACNC,SAAAA,eAAelC,SAAA,CAAEmC,EAAAA,GAAS,EAChC,CAAA,CAVF,EAAG,GAUiC,EA+BpCL,CA7BE,MAAAM,EAAAvC,EAAA,UAAA,EAGAwC,EAFUN,EAAK,UAAG,EAAAA,KAAA,EAGlBO,IAAAN,EAASO,EACLN,EAAIO,CAAAA,EARR,MASQP,EAAO,CAAAE,QAAA,IAAA,EACPC,EAAeI,CAAAA,QAAgB,IAAI,EAN3CJ,EASIL,KAAA,EAAA,EAcJG,EAAAC,QAAAM,YAAA,WACAC,EAAAA,EACFL,EAAA7B,SARUmC,cAAcT,EAAaC,OAAO,EAU5CQ,cAAAD,EAAAP,OAAA,EACAL,EAAaC,KAAAM,CAAA,EAPX,EAAG,GAAG,EAGNK,EAAiBP,QAAUM,YArB3B,WAUAH,IAAAE,EAAAH,EAAAO,MAAA,EAAAZ,CAAA,EACAE,EACSE,EAAEL,KAAAS,EAAA,GAAA,EAEHG,EAAcT,KAAAA,EAAqB,GAAA,EAEnCE,EAAAA,CAASH,CARjB,EAa6D,GAAG,CAItD,CACd,CAAC","file":"script.js","sourcesContent":["$(document).ready(function () {\r\n  var game = localStorage.getItem(\"game\");\r\n\r\n  function getRandomNumber() {\r\n    return Math.floor(Math.random() * (99 - 10 + 1)) + 10;\r\n  }\r\n\r\n  $(\".cadastro\").on(\"click\", function () {\r\n    var name = $(\"#name\").val();\r\n    var email = $(\"#email\").val();\r\n    var empresa = $(\"#empresa\").val() || \"não defina\";\r\n\r\n    $(\".alertName\").css(\"display\", \"none\");\r\n    $(\".alertMail\").css(\"display\", \"none\");\r\n\r\n    if (name.length == 0) {\r\n      $(\".alertName\").css(\"display\", \"block\");\r\n      return false;\r\n    }\r\n    if (email.length == 0 || !validateEmail(email)) {\r\n      $(\".alertEmail\").css(\"display\", \"block\");\r\n      return false;\r\n    }\r\n\r\n    var informativo = $(\"#informativo\").is(\":checked\");\r\n\r\n    var data = {\r\n      name: name,\r\n      email: email,\r\n      empresa: empresa,\r\n      informativo: informativo,\r\n      uid: Date.now(),\r\n    };\r\n\r\n    //localstorage\r\n    $(\"body\").trigger(\"setOrUpdateObject\", [\"user\", data]);\r\n    //firebase\r\n    bridge.handlerFormDB(data);\r\n\r\n    setTimeout(() => {\r\n      navigate.goto(`04_game${game}-intro`);\r\n    }, 1000 * 0.12);\r\n  });\r\n\r\n  function validateEmail(email) {\r\n    // Advanced regex for email validation\r\n    const regex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n    return regex.test(email);\r\n  }\r\n\r\n  var formRandom = getRandomNumber();\r\n  $(\".codeForm\").text(formRandom);\r\n\r\n  setTimeout(() => {\r\n    bridge.handlerSnapshotFormDB((change) => {\r\n      console.log(change.doc.data());\r\n      const data = change.doc.data();\r\n\r\n      if (data.code == formRandom) {\r\n        //localstorage\r\n        $(\"body\").trigger(\"setOrUpdateObject\", [\"user\", data]);\r\n        setTimeout(() => {\r\n          navigate.goto(`04_game${game}-intro`);\r\n        }, 1000 * 0.12);\r\n      }\r\n    });\r\n  }, 1000 * 2);\r\n\r\n  function inserirNome() {\r\n    const $spanText = $('.textDig');\r\n    const text = $('.textDig').text();\r\n    \r\n    const textAnima = text; // Defina a variável textAnima com o nome desejado\r\n    let index = 0;\r\n    let blink = true;\r\n    const intervaloRef = { current: null };\r\n    const blinkIntervalRef = { current: null };\r\n\r\n    // Limpa o conteúdo existente e prepara a animação\r\n    $spanText.text(\"\");\r\n\r\n    // Função para atualizar o texto com o efeito de cursor piscando\r\n    function updateTextWithCursor() {\r\n        let displayedText = textAnima.slice(0, index);\r\n        if (blink) {\r\n            $spanText.text(displayedText + '|');\r\n        } else {\r\n            $spanText.text(displayedText + ' ');\r\n        }\r\n        blink = !blink;\r\n    }\r\n\r\n    // Inicia o intervalo para animar a inserção das letras\r\n    intervaloRef.current = setInterval(function() {\r\n        index++;\r\n        if (index > textAnima.length) {\r\n            clearInterval(intervaloRef.current);\r\n            clearInterval(blinkIntervalRef.current);\r\n            $spanText.text(textAnima); // Remove o cursor final\r\n        }\r\n    }, 120); // Ajuste o tempo para digitação\r\n\r\n    // Inicia o intervalo para o cursor piscando\r\n    blinkIntervalRef.current = setInterval(updateTextWithCursor, 150); // Ajuste o tempo para piscar\r\n  }\r\n\r\n  // Chama a função para inserir o nome com a animação\r\n  inserirNome();\r\n});\r\n"]}