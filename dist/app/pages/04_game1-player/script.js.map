{"version":3,"sources":["script.js"],"names":["$","document","ready","let","CardTypes","name","image","el","showSplash","startTime","timer","shuffleCards","score","game","cardFlipTimeInit","Vue","pairsCorrect","data","methods","turns","cards","concat","_","cloneDeep","flipBackTimer","shuffle","time","started","each","card","cardTimeComplete","found","_this","this","resetGame","window","flipped","flippedCards","sameFlippedCard","countdownTimer","savePointGame","foundCards","filter","length","pointMulti","console","log","setCardFounds","checkAllFound","startGame","flipCard","flipCount","setTimeout","clearFlips","clearFlipBackTimer","clearTimeout","created"],"mappings":"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","file":"script.js","sourcesContent":["$(document).ready(function () {\r\n  let CardTypes = [\r\n    { name: \"carta1\", image: \"../../assets/img/game1/carta1.svg\" },\r\n    { name: \"carta2\", image: \"../../assets/img/game1/carta2.svg\" },\r\n    { name: \"carta3\", image: \"../../assets/img/game1/carta3.svg\" },\r\n    { name: \"carta4\", image: \"../../assets/img/game1/carta4.svg\" },\r\n    { name: \"carta5\", image: \"../../assets/img/game1/carta5.svg\" },\r\n    { name: \"carta6\", image: \"../../assets/img/game1/carta6.svg\" },\r\n    { name: \"carta7\", image: \"../../assets/img/game1/carta7.svg\" },\r\n    { name: \"carta8\", image: \"../../assets/img/game1/carta8.svg\" },\r\n    { name: \"carta9\", image: \"../../assets/img/game1/carta9.svg\" },\r\n  ];\r\n\r\n  let shuffleCards = () => {\r\n    let cards = [].concat(_.cloneDeep(CardTypes), _.cloneDeep(CardTypes));\r\n    return _.shuffle(cards);\r\n  };\r\n\r\n  new Vue({\r\n    el: \"#app\",\r\n\r\n    data: {\r\n      showSplash: false,\r\n      cards: [],\r\n      started: false,\r\n      startTime: 0,\r\n      turns: 0,\r\n      flipBackTimer: null,\r\n      timer: null,\r\n      time: \"00:40:00\",\r\n      score: 0,\r\n      game: 1,\r\n      cardFlipTimeInit: 3, /// Tempo inicial em que os flip card ficam virados\r\n      cardTimeComplete: 40 * 1, //60*1 /// tempo do cronometro\r\n      pairsCorrect: 0, /// Pares corretos de cards\r\n      pointMulti: 10, // Multiplo dos pontos finais\r\n    },\r\n\r\n    methods: {\r\n      resetGame() {\r\n        this.showSplash = false;\r\n        let cards = shuffleCards();\r\n        this.turns = 0;\r\n        this.score = 0;\r\n        this.started = false;\r\n        this.startTime = 0;\r\n\r\n        _.each(cards, (card) => {\r\n          card.flipped = true;\r\n          card.found = false;\r\n        });\r\n\r\n        //Nil\r\n        const _this = this;\r\n        setTimeout(() => {\r\n          _.each(cards, (card) => {\r\n            card.flipped = false;\r\n            card.found = false;\r\n          });\r\n\r\n          window.countdownTimer(_this.cardTimeComplete, () => {\r\n            _this.savePointGame();\r\n          });\r\n        }, 1000 * this.cardFlipTimeInit);\r\n        //Nil\r\n\r\n        this.cards = cards;\r\n      },\r\n\r\n      flippedCards() {\r\n        return _.filter(this.cards, (card) => card.flipped);\r\n      },\r\n\r\n      sameFlippedCard() {\r\n        let flippedCards = this.flippedCards();\r\n        if (flippedCards.length == 2) {\r\n          if (flippedCards[0].name == flippedCards[1].name) return true;\r\n        }\r\n      },\r\n\r\n      savePointGame() {\r\n        let foundCards = _.filter(this.cards, (card) => card.found);\r\n        this.pairsCorrect = (foundCards.length / 2) * this.pointMulti;\r\n        console.log(this.pairsCorrect);\r\n\r\n        $(\"body\").trigger(\"game\", [this.game, this.pairsCorrect]);\r\n      },\r\n\r\n      setCardFounds() {\r\n        _.each(this.cards, (card) => {\r\n          if (card.flipped) {\r\n            card.found = true;\r\n          }\r\n        });\r\n      },\r\n\r\n      checkAllFound() {\r\n        let foundCards = _.filter(this.cards, (card) => card.found);\r\n        if (foundCards.length == this.cards.length) return true;\r\n      },\r\n\r\n      // countdownTimer(duration , call) {\r\n      //   let timer = duration;\r\n      //   let timePosTip = duration; // Definir o valor inicial dos segundos\r\n      //   let miliPosTip = 0; // Definir o valor inicial dos milissegundos\r\n\r\n      //   const formatTime = (seconds, milliseconds) => {\r\n      //       let formattedMinutes = '00';\r\n      //       let formattedSeconds = seconds.toString().padStart(2, '0');\r\n      //       let formattedMilliseconds = milliseconds.toString().padStart(2, '0');\r\n      //       return `${formattedMinutes}:${formattedSeconds}:${formattedMilliseconds}`;\r\n      //   };\r\n\r\n      //   const interval = setInterval(() => {\r\n      //       if (timePosTip === 0 && miliPosTip === 0) {\r\n      //           clearInterval(interval);\r\n      //           this.savePointGame();\r\n      //       } else {\r\n      //           miliPosTip -= 1;\r\n      //           if (miliPosTip < 0) {\r\n      //               miliPosTip = 99;\r\n      //               timePosTip -= 1;\r\n      //           }\r\n      //       }\r\n\r\n      //       // Atualizar a exibição do contador\r\n      //       const formattedTime = formatTime(timePosTip, miliPosTip);\r\n      //       $(\".info .value\").text(formattedTime);\r\n      //   }, 10); // Intervalo de atualização de 10 milissegundos (para corresponder ao intervalo do contador original)\r\n      // },\r\n\r\n      // countdownTimer(duration) {\r\n      //   let timer = duration,\r\n      //     minutes,\r\n      //     seconds;\r\n      //     const interval = setInterval(() => {\r\n      //       minutes = parseInt(0);\r\n      //       seconds = parseInt(timer % 60, 10);\r\n\r\n      //       minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n      //       seconds = seconds < 10 ? \"0\" + seconds : seconds;\r\n\r\n      //       this.time = minutes + \":\" + seconds;\r\n\r\n      //       if (--timer < 0) {\r\n      //         clearInterval(interval);\r\n      //         this.time = \"00:00:00\";\r\n      //         // alert(\"Tempo esgotado!\");\r\n      //         //navigate.goto(`05_ranking`);\r\n      //         // this.savePointGame();\r\n      //       }\r\n      //     }, 1000);\r\n      // },\r\n\r\n      startGame() {\r\n        this.started = true;\r\n        // this.startTime = moment();\r\n\r\n        // this.timer = setInterval(() => {\r\n        //     this.time = moment( moment().diff(this.startTime)).format(\"mm:ss\");\r\n        // }, 1000);\r\n      },\r\n\r\n      flipCard(card) {\r\n        if (card.found || card.flipped) return;\r\n\r\n        if (!this.started) {\r\n          this.startGame();\r\n        }\r\n\r\n        let flipCount = this.flippedCards().length;\r\n        if (flipCount == 0) {\r\n          card.flipped = !card.flipped;\r\n        } else if (flipCount == 1) {\r\n          card.flipped = !card.flipped;\r\n          this.turns += 1;\r\n\r\n          if (this.sameFlippedCard()) {\r\n            // Match!\r\n            this.flipBackTimer = setTimeout(() => {\r\n              this.clearFlipBackTimer();\r\n              this.setCardFounds();\r\n              this.clearFlips();\r\n\r\n              if (this.checkAllFound()) {\r\n                this.savePointGame();\r\n              }\r\n            }, 200);\r\n          } else {\r\n            // Wrong match\r\n            this.flipBackTimer = setTimeout(() => {\r\n              this.clearFlipBackTimer();\r\n              this.clearFlips();\r\n            }, 1000);\r\n          }\r\n        }\r\n      },\r\n\r\n      clearFlips() {\r\n        _.map(this.cards, (card) => (card.flipped = false));\r\n      },\r\n\r\n      clearFlipBackTimer() {\r\n        clearTimeout(this.flipBackTimer);\r\n        this.flipBackTimer = null;\r\n      },\r\n    },\r\n\r\n    created() {\r\n      this.resetGame();\r\n    },\r\n  });\r\n});\r\n"]}