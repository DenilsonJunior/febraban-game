{"version":3,"sources":["quiz-vf-many.js"],"names":["events","on","$","exerciseID","hide","currentScreenUid","point","attr","openModal","_modal","respondido","trigger","show","_feed","addClass","_vfArray","scorm","loadObject","i","length","eq","status","parent","comp","this","hasClass","find","removeClass","each","indice","it","acertou","pointArray","saveObject","_vfQuiz","push","focusin","navigate","next"],"mappings":"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","file":"quiz-vf-many.js","sourcesContent":["events.on('ready', function () {\r\n  \r\n  var exerciseID = navigate.currentScreenUid;\r\n  $('.btn-next').hide();\r\n  $(\".feed\").hide();\r\n  $('.confirmar').hide();\r\n  $('.rever').hide();\r\n\r\n  var point = $('.quiz').attr('point');\r\n\r\n  $('.exercise-pickVF .alternativa').on('click', function(){\r\n\r\n    var status = 0;\r\n    if( $(this).hasClass('resposta-correta') )  status = 1;\r\n\r\n    $(this).parent().attr('ativoAlt', status );\r\n    $(this).parent().addClass('ativoAlt');\r\n    $(this).parent().find('.alternativa').removeClass('selecionado');\r\n    $(this).addClass('selecionado');\r\n\r\n    var comp = true;\r\n    $('.exercise-pickVF .list').each(function(indice, it){\r\n      if( !$(it).hasClass('ativoAlt') ){\r\n        comp = false;\r\n      }\r\n    })\r\n\r\n    if(comp){\r\n      $('.confirmar').show();\r\n    }\r\n  })\r\n\r\n  $('.confirmar').on('click',function() { \r\n        \r\n    $('.confirmar').hide();\r\n\r\n    var acertou = true;\r\n    $('.exercise-pickVF .list').each(function(indice, it){\r\n      if( $(it).attr('ativoAlt') == 0 ){\r\n        acertou = false;\r\n      }\r\n    })\r\n\r\n    var _vfQuiz = [];\r\n    $('.exercise-pickVF .alternativa').each(function(indice, it){\r\n      if( $(it).hasClass('selecionado') ){\r\n        _vfQuiz.push(indice);\r\n      }\r\n    })\r\n\r\n    scorm.saveObject( exerciseID+'-vf', _vfQuiz );\r\n\r\n    if(acertou){\r\n      openModal(\"feed-positivo\");\r\n      \r\n      var pointArray = [point];\r\n\t\t\tif( scorm.loadObject( 'point-quiz') ){\r\n\t\t\t\tpointArray = scorm.loadObject( 'point-quiz');\r\n\t\t\t\tpointArray.push(point);\r\n\t\t\t}\r\n\t\t\tscorm.saveObject( 'point-quiz', pointArray );\r\n\t\t\tscorm.saveObject( exerciseID+'-status', 1 );\r\n\t\t\t$('body').trigger('quiz-call');\r\n\r\n      $('.quiz').addClass('lock');\r\n      \r\n    }else{\r\n      \r\n      if (scorm.loadObject( exerciseID+'-tentativa' )) {\r\n        ///segunda tentativa\r\n        openModal(\"feed-negativo2\");\r\n        \r\n        var pointArray = [0];\r\n        if( scorm.loadObject( 'point-quiz') ){\r\n          pointArray = scorm.loadObject( 'point-quiz');\r\n          pointArray.push(0);\r\n        }\r\n\r\n        scorm.saveObject( 'point-quiz', pointArray );\r\n        scorm.saveObject( exerciseID+'-status', 0 );\r\n        $('body').trigger('quiz-call');\r\n\r\n        $('.quiz').addClass('lock');\r\n      } else {\r\n        ///primeira tentativa\r\n        openModal(\"feed-negativo1\");\r\n        scorm.saveObject( exerciseID+'-tentativa', true);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  $('.rever').on('click',function() { \r\n      if( scorm.loadObject( exerciseID+'-status') == 1 ) {\r\n        openModal(\"feed-positivo\");\r\n      }else{\r\n        openModal(\"feed-negativo2\");\r\n      }\r\n  });\r\n\r\n  function openModal(_modal){\r\n    $(\".\"+_modal).show();\r\n    $('body').trigger('modal-open', [$(\".\"+_modal)]);\r\n\r\n    var _feed = exerciseID + \"_positivo\";\r\n\t\tif( _modal == 'feed-negativo1' )\r\n\t\t\t_feed = \"00_tentativa\";\r\n\t\telse if( _modal == 'feed-negativo2' )\r\n\t\t\t_feed = exerciseID + \"_negativo\";\r\n\t\t\r\n\t\t$('body').trigger('libras', [ _feed ]);\r\n    \r\n  }\r\n\r\n  $('.tenta-novamente').on('click',function () {\r\n    $(\".feed\").hide();\r\n    $('body').trigger('modal-close');\r\n    $('.alternativa').removeClass('selecionado');\r\n    $('.confirmar').hide();\r\n  });\r\n    \r\n  $('.feed .modal-close').focusin(function () {\r\n    $(\".feed\").hide();\r\n    $('body').trigger('modal-close');\r\n\r\n    if( scorm.loadObject( exerciseID+'-status') == 0 || scorm.loadObject( exerciseID+'-status') == 1 ) {\r\n\t\t\trespondido();\r\n\t\t\tnavigate.next();\r\n\t\t}\r\n\r\n  });\r\n\r\n  if( scorm.loadObject( exerciseID+'-status') == 0 || scorm.loadObject( exerciseID+'-status') == 1 ) {\r\n    respondido();\r\n  }\r\n\r\n\r\n  function respondido(){\r\n    $('.btn-next').show();\r\n    $('.confirmar').hide();\r\n    $('.quiz').addClass('lock');\r\n    $('.rever').show();\r\n\r\n    var _vfArray = scorm.loadObject( exerciseID+'-vf');\r\n    for( var i = 0; i < _vfArray.length; i++){\r\n        $('.exercise-pickVF .list .alternativa').eq(_vfArray[i]).addClass('selecionado');\r\n    }  \r\n  }\r\n\r\n});"]}